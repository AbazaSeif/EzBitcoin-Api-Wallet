SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";

--
-- Database: `bitcoinapi`
--

--
-- Table structure for table `addresses`
--

CREATE TABLE IF NOT EXISTS `addresses` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `address` varchar(48) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `crypto_balance` decimal(14,8) NOT NULL DEFAULT '0.00000000',
  `crypto_type` varchar(8) DEFAULT NULL,
  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `crypto_totalreceived` decimal(14,8) DEFAULT NULL,
  `crypto_previousbalance` decimal(14,8) DEFAULT NULL,
  `server` varchar(24) DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `address` (`address`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

--
-- Table structure for table `logs`
--

CREATE TABLE IF NOT EXISTS `logs` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `method` varchar(48) DEFAULT NULL,
  `apikey` varchar(48) DEFAULT NULL,
  `ipaddress` varchar(40) DEFAULT NULL,
  `querystring` text,
  `agent` text,
  `referrer` text,
  `response` varchar(255) DEFAULT NULL,
  `server` varchar(255) DEFAULT NULL,
  `date_created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=1;

--
-- Table structure for table `transactions`
--

CREATE TABLE IF NOT EXISTS `transactions` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `tx_id` varchar(100) DEFAULT NULL,
  `user_id` int(11) DEFAULT NULL,
  `address_to` varchar(48) DEFAULT NULL,
  `address_from` varchar(48) DEFAULT NULL,
  `account_to` varchar(100) DEFAULT NULL,
  `account_from` varchar(100) DEFAULT NULL,
  `crypto_amount` decimal(14,8) DEFAULT NULL,
  `crypto_type` varchar(12) DEFAULT NULL,
  `confirmations` smallint(6) DEFAULT NULL,
  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `date_updated` datetime DEFAULT NULL,
  `method` varchar(12) DEFAULT NULL,
  `ipaddress` varchar(48) DEFAULT NULL,
  `response` text,
  `response_callback` text,
  `callback_status` tinyint(1) DEFAULT NULL,
  `callback_url` text NOT NULL,
  `block_hash` text,
  `block_index` smallint(11) DEFAULT NULL,
  `block_time` int(11) DEFAULT NULL,
  `tx_time` int(11) DEFAULT NULL,
  `tx_timereceived` int(11) DEFAULT NULL,
  `tx_category` varchar(24) DEFAULT NULL,
  `address_account` varchar(100) DEFAULT NULL,
  `crypto_balancecurrent` decimal(14,8) DEFAULT NULL,
  `crypto_previousbalance` decimal(14,8) DEFAULT NULL,
  `crypto_bitcoindbalance` decimal(14,8) DEFAULT NULL,
  `credit` decimal(14,8) DEFAULT NULL,
  `debit` decimal(14,8) DEFAULT NULL,
  `messagetext` varchar(256) DEFAULT NULL,
  `label` varchar(100) DEFAULT NULL,
  `label2` varchar(100) DEFAULT NULL,
  `label3` varchar(100) DEFAULT NULL,
  `transaction_type` varchar(12) DEFAULT NULL,
  `server` varchar(24) DEFAULT NULL,
  `log_id` bigint(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE IF NOT EXISTS `users` (
  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,
  `apikey` varchar(48) DEFAULT NULL,
  `apipassword` varchar(48) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `name` varchar(100) DEFAULT NULL,
  `callbackurl` text,
  `lastactivity` datetime DEFAULT NULL,
  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=2;

INSERT INTO `users` (`id`, `apikey`, `apipassword`, `email`, `name`, `callbackurl`, `lastactivity`, `created`) VALUES
(1, '0bb611895b9232310c3c4fb82d72bfb7', '98b5ee46205e3d64433166490c5b5e84', 'email@example.com', 'Test User 1', NULL, NULL, '2014-06-14 19:08:52');